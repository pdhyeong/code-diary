## 가변 분할 기억장치 할당

고정 분할 기억장치 할당에서는 전에 말한 단편화 현상을 줄이기 위한 가장 합리적인 분할 크기를 정하는 것이었다.

그렇다면 동적으로 변화하는 기억장치를 분할하는 시스템 운영을 하면 어떻게 될까?

----------------------------------------------------------------

### 기억 공간의 효울화

위에서 말한 것처럼 동적으로 분할하면 낭비가 없을 것처럼 이야기 하긴했지만 기억장치를 구성하는 방법은 결국 어느정도 낭비는 생긴다.

가변 분할 기억장치 할당은 시스템 초기에는 별다른 기억장치의 낭비가 없다.

초기의 작업들이 끝나서 그들이 사용하면 기억 공간이 공백으로 남을 때까지도 기억 공간의 낭비가 그다지 분명하게 나타나지 않는다.

공백들이 다른 작업들에 사용될 수 있기 때문이다.

실행을 기다리는 작업들에게 이 공백들을 할당했을 때부터 기억장치의 단편화가 발생한다.

그런 단편화를 줄이기 위한 방안으로 다음과 같은 방법들이 있다.

```
1 . 공백의 합병(coalescing holes): 이상에서 기억 공간의 공백이 발생하면 인접한 다른 기억공간의 공백과 합병한다.
이떄 빈 기억장소 리스트에 새로운 공백으로 기록할 수도 있고, 공백을 합병하여 하나의 공백으로 기록할 수 있다.

2. 기억장소의 집약(compaction) : 현재 사용되고 있는 모든 기억 공간을 주기억장치의 한쪽으로 모아서 가변공간에 존재하는 작은 공백들을 하나로 통합할 수 있다.
이런 기억장소의 집약을 쓰레기 수집, 흔히 말하는 garbage-collection 이라고 한다.

```
집약이 무작정 좋다는 것은 아니다. 단점도 존재한다. 

----------------------------------------------------------------

### 집약의 단점

```
1. 집약은 생산적으로 사용될 수 있는 시스템 자원을 낭비할 수도 있다.

2. 집약이 실행되면 모든걸 중지한다. 생각보다 별거 아닌거 같지면 시스템에 위험한 요소가 될수도있다.

3. 집약 시에 기억장치 내에 있는 작업들이 재배치(relocating)되어야 한다.
따라서 보통은 프로그램이 적재될 때 없애버리는 재배치 관련 정보를 쉽게 접근 할 수 있는 형태로 계속 보관해야한다.

4. 정상적일때 기억장치 내의 작업 적재환경이 급하게변해서 자주 집약해야한다. 
이로 인해서 자원소모가 집약으로 얻는 손해가 이익보다 커질수도 있다.
```
