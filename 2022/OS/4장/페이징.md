## 페이징(Paging)

일정한 크기의 블록을 페이지라고 하였다. 이처럼 주소 공간을 페이지 단위로 나누고,실제 주속 공간은 페이지 크기와 같은 페이지 프레임(Page frame)으로 나누어 사용할 수 있다.

세그먼테이션 기법과 혼합하여 사용하는 페이징 기법도 있지만 그것보단 순수한 페이징 기법에 대해서 설명할 것이다.

페이징 시스템에서의 가상주소는 순서쌍 v = (p,d)로 표현하고 p는 가상 메모리 내에서 참조될 항목이 속해있는 페이지 번호이고,

d는 페이지 내에서 참조될 항목이 위치하고 있는 곳의 변위이다.


만약 참조되어야하는 페이지가 주거익장치 내에 없다면 그 해당 페이지는  블록 단위로 보조기억장치로부터 주기억장치로 옮겨져서 페이지 프레임이라는 불리는 주기억장치의 한 블록에 자리잡게된다.

페이징 기법 하에서의 동적 주소 변환은 프로세스가 참조하는 가상 주소를 v = (p,d)라고 할 때,

페이징 사상 테이블(Paging mapping table)에서 페이지 p를찾고, 페이지가 p가 페이지 프래임 p'에 있음을 알아낸다. 그 후 p'와 d를 더해 주기억장치상의 실제 주소 r = p' + d를 구한다.

이과정에서 프로세스의 모든 페이지들이 도잇에 주기억장치 내에 존재할 수 없으므로, 페이지 사상 테이블은 참조된 페이지에 대한 주기억장치 내의 존재여부를 나타내야하며,

만약 존재한다면 그 위치를 , 존재하지 않으면 보조기억장치의 어느 곳에 위치하는 지를 알 수 있어야한다.

만약 해당 페이지가 주기억장치 내에 없음녀 페이지 사상 테이블에 페이지 존재 비트(page residence bit)는 0 으로 표시되고, 주기억장치내에 존재할 떄는 1로 표시 된다.


### 직접사상(direct mapping)

수행 중인 프로세스가 참조하는 가상 주소 v = (p,d)는 다음과 같이 실제 주소로 변환된다.

프로레스 수행 전 운영체제는 페이지 사상 테이블로 주기억장치 주소를 페이지 사상 테이블 시작점 레지스터(page map table origin register)에 넣는다. 

그 후 페이지 사상 테이블의 시작주소(base address) b를 페이지 번호 p에 더하여 페이지 p에 대한 항목이 위치하는 주기억장치 주소인 b + p 를 형성한다.

페이지 프레임 p'가 가상 페이지 p에 대응함을 나타내고, 이어 p'는 변위 d와 접속되어 실제 주소 r = p' + d를 읽는다.

 페이지 사상테이블에는 가상 메모리를 구성하는 모든 프로세스의 페이지에 대한 항목이 있기 때문에 직접 사상의 한 예가 된다고 할 수 있다.
 
 프로세스가 자신의 가상 메모리에 n개의 페이지를 가지고 있다면,
 
 프로세스에 대한 직접 사상 페이지 사상 테이블(direct mapped page map table )에는 페이지 0, 페이지 1, 페이지 2 ... 페이지 n에 대한 항목(entry)이 연속적으로 배열되어 있다.
 
 직접 사상 방법에서 
