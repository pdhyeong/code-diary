### 세그먼테이션(Segmentation)

페이징은 일정한 단위로 프로그램을 분할 하는 기법이었다면 세그먼테이션 기법에서는 고정된 단위가 아니고

서로 논리적으로 관련이 있는 정보의 단위로 프로그램을 분할 한다.

사용자가 작성하여 실행하는 프로그램을 고려한다 했을때, 각종 서브루틴과 함수, 프로시듀어 또는 모듈의 집합으로 구성되어 있고,

테이블, 행렬 또는 스택 등 여러가지 자료구조 형태로 있다.

이때 논리적 단위가 되는 프로그램 모듈이나 자료구조 등을 세그먼트(Segment)라고 한다.

기억장치 내에서 어떤 주소에 위치하는가에 관계없이, 각종 모듈 또는 자료구조 등과 같은 세그먼트의 이름으로 참조 된다.

세그먼트는 고유의 이름과 길이를 가진다.(페이지는 주소)

따라서 참조되는 주소는 세그먼트 이름과 세그먼트 내의 변위(displacement)로 표현 된다.

세그먼트를 다시 고정된 크기의 페이지로 분할하여 사용할 수도 있다. 이것을 전에 말했던 세그먼트/페이징 혼용 기법이라고 한다.


### 직접 사상

페이징 기법의 시스템에서와 같이 직접 사상에 의한 방법, 연관 사상에 의한 방법, 또는 직접/연관 사상의 혼합된 방법 등이 있는데,

세그먼트 사상 테이블 전체를 수용할 만큼 큰 캐시기억장치를 가지고 구현할 수 도 있고, 많이 참조된 세그먼트만을 사용할 정도의 부분적 캐시기억장치로 구현할 수 도 있다.

현재는 고속 엑세스의 캐시기억장치에 전체 세그먼트 사상 테이블을 기억시키고 직접 사상을 통한 주소변화를 생각한다.

가상 메모리의 세그먼트 번호를 s라 하고 이 세그먼트 s 내에서의 변위를 d라 할 때, 세그먼테이션 시스템에서의 가장 주소는 v = (s,d)이다.





### 공유 및 보호

페이징 기법에 대한 세그먼테이션 기법의 장점 중 하나는 물리적인 개념이 아니라 논리적 개념이라는 점이다.

세그먼테이션 기법에서는 세그먼트가 특정크기를 갖도록 제한을 가하지 않고, 합리적인 범위 내에서 필요한 크기를 가지도록 허용하는 것.

즉 하나의 배열에 대응되는 배열과 동일한 크기를 가지도록 하고, 동적 자료구조에 대응되는 것은 자료구조 자체가 가지는 크기만큼 거질수도 있고 작아질 수도 있다.

세그먼트는 컴파일러에 의해 만들어지는 프로시듀어 코드(procedural code)를 수용할 만큼의 크기까지 허용된다.

#### 1. 공유 

세그먼트의 공유는 페이징 시스템에서의 공유와 비교할 때 매우 단순한데,

순수 페이징 시스템에서 새 페이지 반 정도 크기의 배열이 공유된다면 이 배열이 차지하는 각 페이지 마다 공유됨을 나타내기 위한 각 항목을 가져야 한다.

부분적 페이지를 조작하는 것은 지루하고, 동적자료구조에서의 상황은 어려워진다.

그러나 세그먼테이션 시스템에서 어떤 세그먼트가 공유된다고 선언되고나면 자료구조는 그것이 공유된 세그먼트 내에 있다는 논리적인 사실을 바꾸지 않고도 
크기를 임의로 늘이거나 줄일 수 도 있게 된다.



#### 보호를 위한 접근 제어

앞에서와 깉이 여러 사용자 프로세스가 임의의 세그먼트를 공유한다고 해서 모든 세그먼트를 무제한으로 접근하는 것은 바람직하지 못하다.

사실 세그먼테이션 시스템의 또 다른 장점 중의 하나는 세심한 접근 제어가 가능하다는 점이다.

|접근형태|약자|설명|
|판독|R|이 블록은 읽힐 수 있다.|
